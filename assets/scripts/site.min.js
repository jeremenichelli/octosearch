!function(e,t){"use strict";"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t:e.empty=t(e)}(this,function(){"use strict";return function(e){for(;e.firstChild;)e.removeChild(e.firstChild);e.innerText&&(e.innerText="")}}),function(e,t){"use strict";"function"==typeof define&&define.amd?define(function(){return t(e)}):"object"==typeof exports?module.exports=t:e.jabiru=t(e)}(this,function(){"use strict";var e,t,n,r=!1,o={},i=document,a=i.getElementsByTagName("script")[0]||i.head||i.body;return o.get=function(o){function s(){d[u]=null,l.parentNode.removeChild(l)}if(!o||"string"!=typeof o.url||"function"!=typeof o.success||o.fail&&"function"!=typeof o.fail)throw new Error("Invalid option object argument");var l=i.createElement("script"),u=e+t,d=r?window:window.jabiru,c=r?"":"jabiru.";t++,d[u]=o.success,l.onload=s,o.fail&&(l.onerror=function(){o.fail(),s()}),l.src=o.url+n+"="+c+u,a.parentNode.insertBefore(l,a)},o.naming=function(n){if("string"!=typeof n)throw new Error("Callback name must be a string");return e=n,t=0,o},o.query=function(e){if("string"!=typeof e)throw new Error("Query name must be a string");return n=e,o},o.toGlobal=function(){return r=!0,o},o.naming("jabiruCallback"),o.query("?callback"),o}),function(e,t){"use strict";"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t:e.mnster=t(e)}(this,function(e){"use strict";var t={},n="mns",r=/^(mns-)/,o=/(\-[a-zA-Z0-9]+)+/,i=function(e,t){for(var n=t.split("."),r=e,o=0,i=n.length;i>o;o++){if("undefined"==typeof r[n[o]]||null===r[n[o]])return null;r=r[n[o]]}return r},a=function(e){for(;e.firstChild;)e.removeChild(e.firstChild);e.innerText&&(e.innerText="")},s=function(t){var n=this;n.template=t.template,n.model={},n.model[t.context]=t.model,n.controller=t.controller||e,n.bindModel()};s.prototype.bindModel=function(){var e=this,t=0;for(e.nodes=e.template.querySelectorAll("*"),e.bindNode(e.template),t=e.nodes.length;t;)e.bindNode(e.nodes[--t]);t=null},s.prototype.bindNode=function(e){for(var n,a,s,l=this,u=e.attributes,d=u&&u.length?u.length:0;d;)if(n=u[--d],a=n.name,s=a.replace(r,"").replace(o,""),r.test(a)&&t[s])try{t[s]({node:e,attribute:n.name,value:n.value,valueFromModel:i(l.model,n.value),controller:l.controller})}catch(c){console.log("mnster binding error: "+c)}u=d=n=a=s=null},s.prototype.update=function(){var e=this,t=0;for(e.bindNode(e.template),t=e.nodes.length;t;)e.bindNode(e.nodes[--t]);t=null};var l=function(e,t){if(!e||!e.nodeType)throw new Error("mnster.view: You must pass a valid template as a first argument");if(!t||!t.context||!t.model)throw new Error("mnster.view: You must specify a context and a model");var n=new s({template:e,context:t.context,model:t.model,controller:t.controller});return n},u=function(e,n){if("string"!=typeof e)throw new Error("mnster.binding: name must be a string");if("function"!=typeof n)throw new Error("mnster.binding: you must specify a method");if(t[e])throw new Error("mnster.binding: a binding with this name already exists");t[e]=n},d=function(e){if("string"!=typeof e)throw new Error("mnster.clean: name must be a string");t[e]&&(t[e]=null)},c=function(e){if("string"!=typeof e||""===e)throw new Error("mnster.prefix: prefix must be a populated string");n=e,r=new RegExp("^("+e+")-")};return u("text",function(e){var t=e.node,n=e.valueFromModel,r=t.innerText?"innerText":"textContent";t[r]=null!==n?n+"":""}),u("html",function(e){var t=e.node,n=e.valueFromModel;t.innerHTML=null!==n?n+"":""}),u("attr",function(e){var t=e.node,r=e.attribute.replace(n+"-attr-",""),o=e.valueFromModel;r&&null!==o&&t.setAttribute(r,o+"")}),u("data",function(e){var t=e.node,r=e.attribute.replace(n+"-",""),o=e.valueFromModel;r.replace("data-","")&&null!==o&&t.setAttribute(r,o+"")}),u("show",function(e){e.node.style.display=e.valueFromModel?"block":"none"}),u("hide",function(e){e.node.style.display=e.valueFromModel?"none":"block"}),u("on",function(e){function t(e,t,n){"addEventListener"in document.body?e.addEventListener(t,n,!1):"attachEvent"in document.body?e.attachEvent(t,n):e["on"+t]=n}var r=e.controller[e.value],o=e.attribute.replace(n+"-on-","");"function"==typeof r&&t(e.node,o,r)}),u("each",function(e){var t,r,o,i=e.node,l=e.valueFromModel,u=e.attribute.replace(n+"-each-","");i.__mnsterEachTemplate__||(i.__mnsterEachTemplate__=document.createElement("div"),i.__mnsterEachTemplate__.innerHTML=i.innerHTML),a(i);for(var d in l)l.hasOwnProperty(d)&&(o=document.createElement("div"),o.innerHTML=i.__mnsterEachTemplate__.innerHTML,r=l[d]||{},t=new s({template:o,context:u,model:r}),i.innerHTML+=o.innerHTML);t=r=o=null}),{view:l,binding:u,clean:d,prefix:c}}),function(e,t,n){"use strict";mnster.binding("showinline",function(e){e.node.style.display=e.valueFromModel?"inline-block":"none"}),mnster.binding("width",function(e){e.node.style.width=100*e.valueFromModel+"%"}),mnster.binding("percent",function(e){e.node.textContent=(100*e.valueFromModel).toFixed(2)+"%"});var r=t.getElementById("search-form"),o=t.getElementById("search-input"),i=t.getElementById("message-title"),a=t.getElementById("message-body"),s=t.querySelector(".message"),l={user:t.getElementById("user"),stats:t.getElementById("stats"),repos:t.getElementById("repos")},u={user:t.querySelector(".user-template"),stats:t.querySelector(".stats-template"),repos:t.querySelector(".repos-template")},d=function(e){return t.importNode(u[e].content,!0)},c=function(e,t,n){s.classList.remove("hidden");var r=n?"add":"remove";s.classList[r]("error"),i.textContent=e,a.textContent=t},m=function(){s.classList.add("hidden"),i.textContent="",a.textContent=""},f=function(t){c("Loading","Wait a few seconds!"),empty(l.user),empty(l.repos),empty(l.stats),jabiru.get({url:"https://api.github.com/users/"+t,success:function(n){var r=d("user"),o=d("repos");200===n.meta.status?(mnster.view(r,{context:"user",model:n.data}),jabiru.get({url:"https://api.github.com/users/"+t+"/repos",success:function(n){mnster.view(o,{context:"repos",model:n.data}),m(),l.user.appendChild(r),l.repos.appendChild(o);var i={};if(n.data.length){for(var a in n.data)i[n.data[a].language]||(i[n.data[a].language]={name:n.data[a].language,frequency:0}),i[n.data[a].language].frequency=i[n.data[a].language].frequency+1/n.data.length;i["null"]&&(i.Others=i["null"],i.Others.name="Others",delete i["null"]);var s=d("stats");mnster.view(s,{context:"stats",model:i}),l.stats.appendChild(s),setTimeout(function(){l.stats.querySelector(".hide-bars").classList.remove("hide-bars")},1)}e.history.pushState(t,"OctoSearch | "+t,"?"+t)}})):404===n.meta.status?(c("User not found","Try with a different user name",!0),e.history.pushState("Not Found","OctoSearch | Not Found","")):(c("Error","Connection failed!",!0),e.history.pushState("Error","OctoSearch | Error",""))}})};e.addEventListener("load",function(){e.location.search&&f(e.location.search.replace("?","")),r.addEventListener("submit",function(e){e.preventDefault(),o.value?f(o.value):c("Invalid user name","You must put something in the search bar!",!0)},!1)})}(window,document);