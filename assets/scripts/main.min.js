function createPie(e,t,o,n,r,s){var a=parseFloat(t.replace("px","")),i=document.createElement("div");i.id=e;var l=document.createElement("div");l.style.width=t,l.style.height=t,l.style.position="relative",l.style.webkitBorderRadius=t,l.style.mozBorderRadius=t,l.style.borderRadius=t,l.style.backgroundColor=o,i.appendChild(l);for(var c=0,d=0,u=0;n>u;u++){var p=document.createElement("div");p.style.position="absolute",p.style.top="0px",p.style.left="0px",p.style.width=t,p.style.height=t,p.style.webkitBorderRadius=t,p.style.mozBorderRadius=t,p.style.borderRadius=t,p.style.clip="rect(0px,"+a+"px,"+a+"px,"+a/2+"px)";var f=document.createElement("div");f.style.backgroundColor=s[u],f.style.position="absolute",f.style.top="0px",f.style.left="0px",f.style.width=t,f.style.height=t,f.style.webkitBorderRadius=t,f.style.mozBorderRadius=t,f.style.borderRadius=t,f.style.clip="rect(0px, "+a/2+"px, "+a+"px, 0px)";var m=r[u];if(50>=m)d=parseFloat(180*m/50),f.style.webkitTransform="rotate("+d+"deg)",f.style.mozTransform="rotate("+d+"deg)",f.style.transform="rotate("+d+"deg)",p.appendChild(f),0!=u&&(p.style.webkitTransform="rotate("+c+"deg)",p.style.mozTransform="rotate("+c+"deg)",p.style.transform="rotate("+c+"deg)"),l.appendChild(p),c+=d;else{p.style.clip="rect(0px,"+a+"px,"+a+"px,"+(a-100)/2+"px)",p.style.webkitTransform="rotate("+c+"deg)",p.style.mozTransform="rotate("+c+"deg)",p.style.transform="rotate("+c+"deg)",f.style.webkitTransform="rotate(180deg)",f.style.mozTransform="rotate(180deg)",f.style.transform="rotate(180deg)",p.appendChild(f),l.appendChild(p);var p=document.createElement("div");p.style.position="absolute",p.style.top="0px",p.style.left="0px",p.style.width=t,p.style.height=t,p.style.webkitBorderRadius=t,p.style.mozBorderRadius=t,p.style.borderRadius=t,p.style.clip="rect(0px,"+a+"px,"+a+"px,"+a/2+"px)",0!=u&&(c-=1),p.style.webkitTransform="rotate("+(180+c)+"deg)",p.style.mozTransform="rotate("+(180+c)+"deg)",p.style.transform="rotate("+(180+c)+"deg)",0!=u&&(c+=1);var f=document.createElement("div");f.style.backgroundColor=s[u],f.style.position="absolute",f.style.top="0px",f.style.left="0px",f.style.width=t,f.style.height=t,f.style.webkitBorderRadius=t,f.style.mozBorderRadius=t,f.style.borderRadius=t,f.style.clip="rect(0px, "+a/2+"px, "+a+"px, 0px)",d=parseFloat(180*(m-50)/50),0!=u&&(d+=1),f.style.webkitTransform="rotate("+d+"deg)",f.style.mozTransform="rotate("+d+"deg)",f.style.transform="rotate("+d+"deg)",0!=u&&(d-=1),p.appendChild(f),l.appendChild(p),c+=180+d}}return i}Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),o=this,n=function(){},r=function(){return o.apply(this instanceof n&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,r.prototype=new n,r}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var o;if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),r=n.length>>>0;if(0===r)return-1;var s=+t||0;if(1/0===Math.abs(s)&&(s=0),s>=r)return-1;for(o=Math.max(s>=0?s:r-Math.abs(s),0);r>o;){if(o in n&&n[o]===e)return o;o++}return-1}),function(e){"use strict";var t="undefined"!=typeof HTMLElement?HTMLElement:Element,o=function(e){return e.className.split(/\s+/)},n=function(e,t){return-1!==o(e).indexOf(t)},r=function(e,t){n(e,t)||(e.className+=""===e.className?t:" "+t)},s=function(e,t){if(n(e,t)){var r=o(e);r.splice(r.indexOf(t),1),e.className=r.join(" ")}},a=function(e,t){n(e,t)?s(e,t):r(e,t)};e.documentElement.classList?(t.prototype.hasClass=function(e){return this.classList.contains(e)},t.prototype.addClass=function(e){this.classList.add(e)},t.prototype.removeClass=function(e){this.classList.remove(e)},t.prototype.toggleClass=function(e){this.classList.toggle(e)}):(t.prototype.hasClass=function(e){return n(this,e)},t.prototype.addClass=function(e){r(this,e)},t.prototype.removeClass=function(e){s(this,e)},t.prototype.toggleClass=function(e){a(this,e)})}(document),function(e,t){"use strict";"function"==typeof define&&define.amd?define(function(){return t(e)}):"object"==typeof exports?module.exports=t:e.jabiru=t(e)}(this,function(){"use strict";var e="callback",t=0,o=function(o,n){function r(e){window.jabiru[a]=e=null,s.parentNode.removeChild(s)}var s=document.createElement("script"),a=e+t;t++,window.jabiru[a]=function(e){"function"==typeof n?n(e):console.error("You must specify a method as a callback")},s.onload=s.onreadystatechange=function(e){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(s&&(s.onreadystatechange=null),r(e))},s.src=o+"?callback=jabiru."+a,document.head.appendChild(s)};return{get:o}}),function(e,t){"use strict";"function"==typeof define&&define.amd?define(function(){return t(e)}):"object"==typeof exports?module.exports=t:e.monster=t(e)}(this,function(){"use strict";var e=/^(mns-)/,t=/^(mns-attr-)/,o=/^(mns-each-)/,n=/((-)[a-zA-Z0-9]+)/,r=function(e){var t=this;return e.template?(t.template=e.template,e.model&&e.context?(t.context=e.context,t.model={},t.model[e.context]=e.model,void t.bindModel()):void console.error("Please specify a model and a context")):void console.error("No template specified")},s=function(e,t){"classList"in e?e.classList.add(t):e.className+=""===e.className?t:" "+t},a=function(e,t){for(var o=t.split("."),n=e,r=0,s=o.length;s>r;r++)n="undefined"!=typeof n[o[r]]?n[o[r]]:"";return n},i={text:function(e,t,o){var n=a(o,t.value);e.innerHTML=n+""},attr:function(e,o,n){var r=o.name.replace(t,""),s=a(n,o.value);e.setAttribute(r,s+"")},each:function(e,t,n,s){var i,l,c,d,u=t.name.replace(o,""),p=a(n,u===s?s:s+"."+u),f=t.value;e.__monsterTemplate__||(e.__monsterTemplate__=e.children[0].cloneNode(!0)),d=e.__monsterTemplate__.cloneNode(!0),e.innerHTML="";for(var m in p)c=d.cloneNode(!0),i=p[m]||{},l=new r({template:c,context:f,model:i}),e.appendChild(c);i=c=l=d=null},show:function(e,t,o){var n=a(o,t.value);e.style.display=n?"block":"none"},hide:function(e,t,o){var n=a(o,t.value);e.style.display=n?"none":"block"},"class":function(e,t,o){if(t.value){var n=a(o,t.value);s(e,n+"")}}};r.prototype.bindModel=function(){var e=this;e.nodes=e.template.querySelectorAll("*"),e.bindNode(e.template);for(var t=0,o=e.nodes.length;o>t;t++)e.bindNode(e.nodes[t])},r.prototype.bindNode=function(t){for(var o=this,r=t.attributes,s=0,a=r.length;a>s;s++){var l,c=r[s],d=c.name;e.test(d)&&(l=d.replace(e,"").replace(n,""),l in i&&i[l](t,c,o.model,o.context))}},r.prototype.update=function(){for(var e=this,t=0,o=e.nodes.length;o>t;t++)e.bindNode(e.nodes[t])};var l=function(e,t){var o=new r({template:e,context:t.context,model:t.model});return o};return{view:l}});var octosearch=octosearch||{};octosearch.view=function(e){return{user:e.getElementById("user"),repos:e.getElementById("repos"),languages:e.getElementById("languages"),message:{title:e.getElementById("message-title"),content:e.getElementById("message-content")}}}(document),octosearch.model=function(e){var t="https://api.github.com/",o=function(o,n){e.jabiru.get(t+"users/"+o,function(e){n(e)})},n=function(o,n){e.jabiru.get(t+"users/"+o+"/repos",function(e){n(e)})};return{getUser:o,getRepositories:n}}(window,document),octosearch.controller=function(e,t){var o=t.getElementById("search-input"),n=t.getElementById("search-submit"),r=t.getElementById("main"),s=t.getElementById("message"),a=t.querySelector(".user-avatar"),i=function(){s.removeClass("show-message"),octosearch.view.message.title.innerHTML="",octosearch.view.message.content.innerHTML=""},l=function(){s.addClass("show-message")},c=function(e,t,o){octosearch.view.message.title.innerHTML=t,octosearch.view.message.content.innerHTML=o,s.className="",e&&s.addClass(e),l()},d=function(){r.removeClass("loaded"),a.removeClass("loaded"),octosearch.view.languages.innerHTML="",octosearch.view.languages.style.display="none",t.getElementById("no-repositories-message").style.display="none",t.querySelector(".repos-list").style.display="block"},u=function(){r.addClass("loaded")},p=function(){return""!==o.value},f=function(){if(d(),c("loading","LOADING...","We'll be ready in a second!"),p()){var e=decodeURI(o.value);octosearch.model.getUser(e,m)}},m=function(t){200===t.meta.status?(monster.view(octosearch.view.user,{model:t.data,context:"user"}),octosearch.model.getRepositories(t.data.login,y),"history"in e&&e.history.pushState(t.data.login,"OctoSearch // "+t.data.login,"?"+t.data.login)):404===t.meta.status?c("error","User Not Found","There is no GitHub user with this name, please try with a different one."):c("error","Something went wrong :(","Please try again later.")},y=function(e){if(200===e.meta.status){if(0===e.data.length)t.querySelector(".repos-list").style.display="none",t.getElementById("no-repositories-message").style.display="block";else{monster.view(octosearch.view.repos,{model:e.data,context:"repos"});for(var o=octosearch.view.repos.querySelectorAll(".more-info-button"),n=0,r=o.length;r>n;n++)o[n].onclick=g.bind(o[n]);v(e.data)}i(),u()}else c("error","Connection Error","Please try again.")},h=function(){var e=document.location.search.replace("?","");e&&(c("loading","LOADING...","We'll be ready in a second!"),octosearch.model.getUser(e,m))},g=function(){this.toggleClass("expanded")},v=function(e){for(var o,n={},r=[],s=[],a=0,i=t.createElement("ul"),l=["#e51c23"," #9c27b0","#ffc107","#5677fc","#ff5722","#55cF90","#e91e63","#aa00ff","#5677fc","#607d8b","#e05bdF"],c=0,d=e.length;d>c;c++){var u=e[c].language;n[u]?++n[u+""]:n[u+""]=1,++a}for(var p in n)"null"===p?(r.push("Not specified"),s.push(n[p]/a*100)):(r.push(p),s.push(n[p]/a*100));i.addClass("lang-info");for(var f=0,m=r.length;m>f;f++){var y=t.createElement("li"),h=t.createElement("span");h.innerHTML=s[f].toFixed(2)+"%",y.style.color=l[f],y.innerHTML=r[f],y.appendChild(h),i.appendChild(y)}o=createPie("lang-pie-chart","200px","#ffffff",r.length,s,l),octosearch.view.languages.appendChild(o),octosearch.view.languages.appendChild(i),octosearch.view.languages.style.display="block"},b=function(){n.onclick=function(e){e.preventDefault(),f()},window.onload=function(){t.body.addClass("loaded"),a.onload=function(){a.addClass("loaded")},h()}};return{init:b}}(window,document),octosearch.controller.init();